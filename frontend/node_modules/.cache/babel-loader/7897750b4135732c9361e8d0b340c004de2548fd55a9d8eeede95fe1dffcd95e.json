{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cartItems: localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [],\n  cartTotalQuantity: 0,\n  cartTotalAmount: 0\n};\nconst cartSlice = createSlice({\n  name: \"carts\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const itemIndex = state.cartItems.findIndex(item => item._id === action.payload._id);\n      if (itemIndex >= 0) {\n        state.cartItems[itemIndex].cartQuantity += 1;\n      } else {\n        const tempProduct = {\n          ...action.payload,\n          cartQuantity: 1\n        };\n        state.cartItems.push(tempProduct);\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n    },\n    removeFromCart: (state, action) => {\n      const nextCartItem = state.cartItems.filter(item => item._id !== action.payload._id);\n      state.cartItems = nextCartItem;\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n    },\n    decreaseCart: (state, action) => {\n      const itemIndex = state.cartItems.findIndex(item => item._id === action.payload._id);\n      if (state.cartItems[itemIndex].cartQuantity > 1) {\n        state.cartItems[itemIndex].cartQuantity -= 1;\n      } else if (state.cartItems[itemIndex].cartQuantity === 1) {\n        const nextCartItem = state.cartItems.filter(item => item._id !== action.payload._id);\n        state.cartItems = nextCartItem;\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n    },\n    getTotals: (state, action) => {\n      let {\n        total,\n        quantity\n      } = state.cartItems.reduce((cartTotal, cartItem) => {\n        const {\n          price,\n          cartQuantity\n        } = cartItem;\n        const itemTotal = price * cartQuantity;\n        cartTotal.total += itemTotal;\n        cartTotal.quantity += cartQuantity;\n        return cartTotal;\n      }, {\n        total: 0,\n        quantity: 0\n      });\n      state.cartTotalQuantity = quantity;\n      state.cartTotalAmount = total;\n    }\n  }\n});\nexport default cartSlice.reducer;\nexport const getCartItems = state => state.carts.cartItems;\nexport const getCartTotalQuantity = state => state.carts.cartTotalQuantity;\nexport const getCartTotalAmount = state => state.carts.cartTotalAmount;\nexport const {\n  addToCart,\n  removeFromCart,\n  decreaseCart,\n  getTotals\n} = cartSlice.actions;","map":{"version":3,"names":["createSlice","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","cartSlice","name","reducers","addToCart","state","action","itemIndex","findIndex","item","_id","payload","cartQuantity","tempProduct","push","setItem","stringify","removeFromCart","nextCartItem","filter","decreaseCart","getTotals","total","quantity","reduce","cartTotal","cartItem","price","itemTotal","reducer","getCartItems","carts","getCartTotalQuantity","getCartTotalAmount","actions"],"sources":["/Users/mohamedfadhil/InventoryFadhil/frontend/src/features/slice/cartSlice.js"],"sourcesContent":["import { createSlice} from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    cartItems: localStorage.getItem(\"cartItems\")\n    ? JSON.parse(localStorage.getItem(\"cartItems\"))\n    : [],\n    cartTotalQuantity: 0,\n    cartTotalAmount: 0,\n    \n}\n\nconst cartSlice = createSlice({\n    name: \"carts\",\n    initialState,\n    reducers: {\n        addToCart: (state, action) => {\n            const itemIndex = state.cartItems.findIndex(\n                (item) => item._id === action.payload._id\n            )\n            if (itemIndex >= 0) {\n                state.cartItems[itemIndex].cartQuantity += 1\n            } else {\n                const tempProduct = { ...action.payload, cartQuantity: 1 };\n                state.cartItems.push(tempProduct)\n            }\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems))\n        },\n        removeFromCart: (state, action) => {\n            const nextCartItem = state.cartItems.filter(\n                (item) => item._id !== action.payload._id\n            )\n            state.cartItems = nextCartItem\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems))\n        },\n        decreaseCart: (state, action) => {\n            const itemIndex = state.cartItems.findIndex(\n                (item) => item._id === action.payload._id\n            )\n            if(state.cartItems[itemIndex].cartQuantity > 1) {\n                state.cartItems[itemIndex].cartQuantity -= 1\n            } else if (state.cartItems[itemIndex].cartQuantity === 1) {\n                const nextCartItem = state.cartItems.filter(\n                    (item) => item._id !== action.payload._id\n                )\n                state.cartItems = nextCartItem\n            }\n            localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems))\n        },\n        getTotals: (state, action) => {\n            let {total, quantity} = state.cartItems.reduce((cartTotal, cartItem)=>{\n                const {price, cartQuantity} = cartItem\n                const itemTotal = price * cartQuantity\n\n                cartTotal.total += itemTotal\n                cartTotal.quantity += cartQuantity\n                return cartTotal\n            }, {\n                total: 0,\n                quantity: 0\n            })\n            state.cartTotalQuantity = quantity\n            state.cartTotalAmount = total\n        }\n    }\n})\n\nexport default cartSlice.reducer\nexport const getCartItems = (state) => state.carts.cartItems\nexport const getCartTotalQuantity = (state) => state.carts.cartTotalQuantity\nexport const getCartTotalAmount = (state) => state.carts.cartTotalAmount\nexport const { addToCart, removeFromCart, decreaseCart, getTotals } = cartSlice.actions\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}